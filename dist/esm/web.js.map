{"version":3,"file":"web.js","sourceRoot":"","sources":["../../src/web.ts"],"names":[],"mappings":"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","sourcesContent":["import { WebPlugin } from '@capacitor/core';\n\ndeclare var Kakao: any;\n\nexport class Capacitor3KakaoLoginWeb\n  extends WebPlugin\n  implements Capacitor3KakaoLoginWeb\n{\n  web_key: any;\n\n  initializeKakao(options: { app_key: string; web_key: string }) {\n    return new Promise<{ value: string }>(resolve => {\n      if (!this.web_key) {\n        this.web_key = options.web_key;\n        Kakao.init(this.web_key);\n      }\n      resolve({ value: 'done' });\n    });\n  }\n\n  //웹 카카오 로그인\n  kakaoLogin() {\n    return new Promise<{ value: string }>((resolve, reject) => {\n      if (!this.web_key) {\n        reject('kakao_sdk_not_initialzed');\n      }\n      const KakaoSdk: any = Kakao;\n      KakaoSdk.Auth.login({\n        success: function (authObj: any) {\n          let { access_token } = authObj;\n          resolve({ value: access_token });\n        },\n        fail: function (err: any) {\n          console.error(err);\n          reject(err);\n        },\n      });\n    });\n  }\n\n  //웹 로그아웃\n  kakaoLogout() {\n    return new Promise<{ value: string }>((resolve, reject) => {\n      if (!this.web_key) {\n        reject('kakao_sdk_not_initialzed');\n      }\n\n      const KakaoSdk: any = Kakao;\n      KakaoSdk.Auth.logout();\n      resolve({ value: 'done' });\n    });\n  }\n\n  //unlink\n  kakaoUnlink() {\n    return new Promise<{ value: string }>((resolve, reject) => {\n      if (!this.web_key) {\n        reject('kakao_sdk_not_initialzed');\n      }\n\n      const KakaoSdk: any = Kakao;\n      KakaoSdk.API.request({\n        url: '/v1/user/unlink',\n        success: function (response: any) {\n          console.log(response);\n          resolve({ value: 'done' });\n        },\n        fail: function (error: any) {\n          console.log(error);\n          reject(error);\n        },\n      });\n    });\n  }\n\n  //message\n  sendLinkFeed(options: {\n    title: string;\n    description: string;\n    image_url: string;\n    image_link_url: string;\n    button_title: string;\n  }) {\n    return new Promise<{ value: string }>((resolve, reject) => {\n      if (!this.web_key) {\n        reject('kakao_sdk_not_initialzed');\n      }\n      const KakaoSdk: any = Kakao;\n      KakaoSdk.Link.sendDefault({\n        objectType: 'feed',\n        content: {\n          title: options.title,\n          description: options.description,\n          imageUrl: options.image_url,\n          link: {\n            mobileWebUrl: options.image_link_url,\n          },\n        },\n        buttons: [\n          {\n            title: options.button_title,\n            link: {\n              mobileWebUrl: options.image_link_url,\n            },\n          },\n        ],\n        callback: function () {\n          resolve({ value: 'done' });\n        },\n      });\n    });\n  }\n}\n"]}